ROSTemplateFormatVersion: '2015-09-01'
Description: Create policy to authorize the management of VSwitch policies in a single
  region
Parameters:
  Region:
    Type: String
    Label:
      zh-cn: 地域
      en: Region ID
    Description:
      zh-cn: 可以对该地域下的VSwitch进行创建/删除/绑定子网路由/解绑子网路由的操作，对于其它地域的VSwitch只有查看权限。
      en: You can create/delete/bind subnet route/unbind subnet route for the VSwitch
        in this Region, and only have the view permission for the VSwitch in other
        Regions.
    Default: cn-hangzhou
    AllowedValues:
    - cn-qingdao
    - cn-beijing
    - cn-zhangjiakou
    - cn-huhehaote
    - cn-hangzhou
    - cn-shanghai
    - cn-shenzhen
    - cn-hongkong
    - ap-northeast-1
    - ap-southeast-1
    - ap-southeast-2
    - ap-southeast-3
    - ap-southeast-5
    - ap-south-1
    - us-east-1
    - us-west-1
    - me-east-1
    - eu-central-1
    - cn-chengdu
    - eu-west-1
    - cn-heyuan
Resources:
  ManageSingleRegionVSwitchPolicy:
    Type: ALIYUN::RAM::ManagedPolicy
    Properties:
      PolicyName:
        Fn::Sub: ManageSingleRegionVSwitch-${ALIYUN::StackId}
      PolicyDocument:
        Version: '1'
        Statement:
        - Effect: Allow
          Resource:
          - Fn::Sub: acs:vpc:${Region}:*:*/*
          Action:
          - vpc:*Describe*
          - vpc:*VSwitch*
          - vpc:*RouteTable*
        - Effect: Allow
          Resource:
          - '*'
          Action:
          - ecs:*Describe*
Metadata:
  ALIYUN::ROS::Interface:
    ParameterGroups:
    - Parameters:
      - Region
      Label:
        default: RAM
    TemplateTags:
    - acs:example:安全:对VPC中VSwitch的管理授权
