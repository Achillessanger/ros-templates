{
  "ROSTemplateFormatVersion": "2015-09-01",
  "Description": "Configure the AliyunROSStackGroupExecutionRole to enable use of your account as a target account in Alibaba Cloud ROS StackGroup.",
  "Parameters": {
    "ExecutionRoleName": {
      "Type": "String",
      "Default": "AliyunROSStackGroupExecutionRole",
      "Description": "Execution role name of target account"
    },
    "AdministrationAccount": {
      "Type": "String",
      "Description": "Administration account"
    }
  },
  "Resources": {
    "AliyunROSStackGroupExecutionRole": {
      "Type": "ALIYUN::RAM::Role",
      "Properties": {
        "RoleName": {
          "Ref": "ExecutionRoleName"
        },
        "AssumeRolePolicyDocument": {
          "Version": 1,
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "RAM": [
                  {
                    "Fn::Sub": "acs:ram::${AdministrationAccount}:root"
                  }
                ]
              }
            }
          ]
        }
      }
    },
    "AttachPolicy": {
      "Type": "ALIYUN::RAM::AttachPolicyToRole",
      "Properties": {
        "PolicyName": "AdministratorAccess",
        "PolicyType": "System",
        "RoleName": {
          "Fn::GetAtt": ["AliyunROSStackGroupExecutionRole", "RoleName"]
        }
      }
    }
  },
  "Outputs": {
    "ExecutionRoleName": {
      "Value": {
        "Fn::GetAtt": ["AliyunROSStackGroupExecutionRole", "RoleName"]
      }
    }
  }
}
